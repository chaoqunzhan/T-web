## 微前端方案

### 1. 服务端集成（Nginx反向代理）
#### 优点：
- 方便  

#### 缺点：
- 丢失SPA的体验，每一次命中路由都会重新请求资源，不能局部更新当前页面

### 2. 运行时集成（iframe）
#### 优点：
- iframe 自带的样式、环境隔离机制使得它具备天然的沙盒机制。
- 嵌入子应用比较简单。

#### 缺点：
- iframe功能之间的跳转是无效的，刷新页面无法保存状态。
- URL的记录完全无效，刷新会返回首页。
- 主应用劫持快捷键操作，事件冒泡不穿透到主文档树上。
- 模态弹窗的背景是无法覆盖到整个应用。
- iframe应用加载失败，内容发生错误主应用无法感知，通信麻烦。

### 3. single-spa
- single-spa的文档略显凌乱，概念也比较多，在初次学习时上手难度较高。
- single-spa是通过js文件去加载子应用，当文件名是乱码名时，每次子应用更新，父应用要更新引入配置文件，更新多项目时比较麻烦。
- single-spa本身缺少js隔离和css隔离，虽然现在已经可以引入其他的包去解决，但是并没有做到开箱即用的程度。

### 4. qiankun

(参考)[https://zhuanlan.zhihu.com/p/556422347]

### iframe实现